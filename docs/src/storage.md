# Storage

The storage module tries to stay as generic as possible, making no assumption
about the transformation used or the configuration (e.g., the fingerprint). This
is also where the functionalities exposed by the library are living.


```@meta
CurrentModule = GD.Storage
```


## Compressor

Abstraction used by the used by the store to be able to work independently of
the underlying configuration and the transformation. This module is stateless,
as it exposes functions which are purely functional. Thus, one store can scale
the compressor module easily.

```@docs
Compressor
compress
extract(::Compressor, ::GDFile, ::Vector{Vector{UInt8}})
hashes
```


## GDFile

Data structure outputted by the compression process. This structure contains
the hashes generated by the fingerprint and the deviations. `padsize` indicates
if the last chunk used for generating the file has been zero-padded. This occurs
when the number of chunks given to the compressor is not a multiple of the
configured `chunksize`.

```@docs
GDFile
```


### Patching

This data structure can be patched by applying a simple delta compression
algorithm through the functions `patch` and `unpatch`. The functionality can be
leveraged when distributed stores are working together, as long as all the
stores communicating posses the original file (`gdfile2`) to either `patch` or `unpatch` the modified version (`gdfile1`).

```@docs
patch
unpatch
```


## Store

The store glues the other module together and offer an easy-to-use API for 
the (de)compression of chunks.


```@docs
Store
compress!
extract(::Store, ::GDFile)
get
update!
validate
```
