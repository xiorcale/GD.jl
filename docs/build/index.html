<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>GD · GD</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">GD</span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>GD</a><ul class="internal"><li><a class="tocitem" href="#Getting-started"><span>Getting started</span></a></li><li><a class="tocitem" href="#Architecture"><span>Architecture</span></a></li><li><a class="tocitem" href="#Working-with-distributed-stores-for-network-compression"><span>Working with distributed stores for network compression</span></a></li><li><a class="tocitem" href="#References"><span>References</span></a></li></ul></li><li><a class="tocitem" href="storage/">Storage</a></li><li><a class="tocitem" href="transform/">Transform</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>GD</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>GD</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/xiorcale/GD.jl/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="GD"><a class="docs-heading-anchor" href="#GD">GD</a><a id="GD-1"></a><a class="docs-heading-anchor-permalink" href="#GD" title="Permalink"></a></h1><p><code>GD.jl</code> is an in-memory Generalized Deduplication (GD) data store which can be used for compressing the network traffic of a distributed infrastructure. The design of the library tries to follow these guidelines:</p><ul><li><strong>Configurable</strong>: GD configuration can vary a lot depending on the data we are compressing. Adjusting the chunk size, the fingerprint, or picking a suitable transformation is the responsibility of the user, as the store does not assume these values.</li><li><strong>Extensible</strong>: The platform has been built with research in mind and writing custom compression transformations do not depend on the rest of the library. Thus, implementing experimental transformations is easy to do. In the same way, an extension of the library implements the inter-store communication which exposes a micro HTTP API. This part can be ditched, extended, or rewritten completely with another communication protocol without impacting the rest of the architecture.</li><li><strong>Generic</strong>: <code>GD.jl</code> is composed of multiple blocks mainly working at an abstract level. Thus, the store exposes the necessary primitives required to use it, while staying “transformation-agnostic”.</li></ul><h2 id="Getting-started"><a class="docs-heading-anchor" href="#Getting-started">Getting started</a><a id="Getting-started-1"></a><a class="docs-heading-anchor-permalink" href="#Getting-started" title="Permalink"></a></h2><p>Setting up a local store can be done in three simple steps:</p><pre><code class="language-julia">using GD: Storage, Transform
using SHA: sha1


# 1. Pick a transformation to compress data.
msbsize = 0x06
chunksize = 256
transformer = Transform.Quantizer{UInt8}(chunksize, msbsize)

# 2. Configure the compressor.
fingerprint = sha1
compressor = Storage.Compressor(chunksize, transformer, fingerprint)

# 3. Instanciate the in-memory data store.
database = Dict()
store = Storage.Store(compressor, database)</code></pre><p>Once the setup in place, using the API to compress and extract data is pretty straightforward:</p><pre><code class="language-julia"># fake data
data = rand(UInt8, 1000)

# Compress data.
gdfile = Storage.compress!(store, data)

# Check file validity.
@assert Storage.validate(store, gdfile) == UInt8[]

# Extract gdfile.
@assert Storage.extract(store, gdfile) == data</code></pre><p>There is no need to check the file validity as long as only one local store is used. However, this function is coming handy when decompressing <code>GDFile</code> coming from a remote location, as the local store may lack certain bases required for the decompression.</p><h2 id="Architecture"><a class="docs-heading-anchor" href="#Architecture">Architecture</a><a id="Architecture-1"></a><a class="docs-heading-anchor-permalink" href="#Architecture" title="Permalink"></a></h2><p>Internally, the store is composed of five modules working together:</p><ol><li><strong>Compressor</strong>: Holds the configuration of the transformation and pretty much any other variables configured by the user related to the compression process. This module is stateless and can (de)compress without being tied to a specific transformer.</li><li><strong>Database</strong>: Key-value data store (really nothing more than a simple <code>Dict</code>) holding the couples <code>(hash, deviation)</code>.</li><li><strong>GDFile</strong>: Data structure used by the compressed data.</li><li><strong>Transform</strong>: Abstraction of the transformer. This module defines the interface to implement for the creation of a new transformer. This is also the home of all the implemented transformer.</li><li><strong>Store</strong>: Acts as an orchestrator that glues the other components together and exposes an easy-to-use API for the user.</li></ol><h2 id="Working-with-distributed-stores-for-network-compression"><a class="docs-heading-anchor" href="#Working-with-distributed-stores-for-network-compression">Working with distributed stores for network compression</a><a id="Working-with-distributed-stores-for-network-compression-1"></a><a class="docs-heading-anchor-permalink" href="#Working-with-distributed-stores-for-network-compression" title="Permalink"></a></h2><p><code>GD.jl</code> provides a tiny HTTP API which can be setup for inter-store communication. This extension is experimental, very basic and certainly not targeting high-performance communication. Use at your own risk.</p><blockquote><p>Okay, okay, give me the goods now!</p></blockquote><pre><code class="language-julia">host = &quot;127.0.0.1&quot;
port = &quot;9090&quot;
@async Storage.setup_api_endpoint(store, host, port)</code></pre><p>Where <code>http://host:port</code> is the baseurl used to contact the store endpoint. Decompressing a file coming from a remote location becomes a two-step process:</p><pre><code class="language-julia"># 1. Validate the `GDFile` coming from a remote location and requesting the
#    missing bases for our local store. 
Storage.validate_remote!(store, data, &quot;http://127.0.0.1:9090&quot;)

# 2. Extract as usual now that our file is valid.
data = Storage.extract(store, data)</code></pre><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>This functionality has a serious limitation: validating a <code>GDFile</code> by requesting bases from a store which do not possess them will generate an unhandled error.</p></div></div><h2 id="References"><a class="docs-heading-anchor" href="#References">References</a><a id="References-1"></a><a class="docs-heading-anchor-permalink" href="#References" title="Permalink"></a></h2><p>Generalized deduplication literature:</p><ul><li><a href="https://pure.au.dk/portal/files/149814536/EW2019_accepted.pdf">Generalized Deduplication: Lossless Compression for Large Amounts of Small IoT Data</a></li><li><a href="https://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&amp;arnumber=9013957">Lossless Compression of Time Series Data with Generalized Deduplication</a></li><li><a href="https://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&amp;arnumber=9155450">A Randomly Accessible Lossless Compression Scheme for Time-Series Data</a></li><li><a href="https://arxiv.org/pdf/2005.11158.pdf">Hermes: Enabling Energy-efficient IoT Networks with Generalized Deduplication</a></li></ul></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="storage/">Storage »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Thursday 28 January 2021 11:20">Thursday 28 January 2021</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
